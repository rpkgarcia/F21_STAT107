<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Apply Family of Functions | STAT 107 Outline of Class Notes</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Apply Family of Functions | STAT 107 Outline of Class Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Apply Family of Functions | STAT 107 Outline of Class Notes" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Rebecca Kurtz-Garcia" />


<meta name="date" content="2021-10-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loops.html"/>
<link rel="next" href="introduction-to-text-data-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 107 Outline of Class Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#download-and-install-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Download and Install R and Rstudio</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-rstudio-interface"><i class="fa fa-check"></i><b>1.2</b> The <strong>RStudio</strong> Interface</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bottom-left-pane"><i class="fa fa-check"></i>Bottom Left Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bottom-right-pane"><i class="fa fa-check"></i>Bottom Right Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#top-right-pane"><i class="fa fa-check"></i>Top Right Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#top-left-pane"><i class="fa fa-check"></i>Top Left Pane</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#comments"><i class="fa fa-check"></i><b>1.3</b> Comments</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operators"><i class="fa fa-check"></i><b>1.4</b> Operators</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic-operators"><i class="fa fa-check"></i>Arithmetic Operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#relational-operators"><i class="fa fa-check"></i>Relational Operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#logical-operators"><i class="fa fa-check"></i>Logical operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#assignment-operators"><i class="fa fa-check"></i>Assignment Operators</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#additional-resources"><i class="fa fa-check"></i><b>1.5</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html"><i class="fa fa-check"></i><b>2</b> Introduction to R Objects</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#atomic-objects"><i class="fa fa-check"></i><b>2.1</b> Atomic Objects</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#numeric"><i class="fa fa-check"></i>Numeric</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#integer"><i class="fa fa-check"></i>Integer</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#logical"><i class="fa fa-check"></i>Logical</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#character"><i class="fa fa-check"></i>Character</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#vectors"><i class="fa fa-check"></i><b>2.2</b> Vectors</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#lists"><i class="fa fa-check"></i><b>2.3</b> Lists</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#matrices"><i class="fa fa-check"></i><b>2.4</b> Matrices</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#factors"><i class="fa fa-check"></i><b>2.5</b> Factors</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#data-frames"><i class="fa fa-check"></i><b>2.6</b> Data Frames</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#other-object-types-and-the-global-environment"><i class="fa fa-check"></i><b>2.7</b> Other Object Types and the Global Environment</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#additional-resources-1"><i class="fa fa-check"></i><b>2.8</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html"><i class="fa fa-check"></i><b>3</b> More on R Objects</a><ul>
<li class="chapter" data-level="3.1" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html#factors-1"><i class="fa fa-check"></i><b>3.1</b> Factors</a></li>
<li class="chapter" data-level="3.2" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html#lists-1"><i class="fa fa-check"></i><b>3.2</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html"><i class="fa fa-check"></i><b>4</b> Working with Data Sets</a><ul>
<li class="chapter" data-level="4.1" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#getting-data-sets-in-our-working-environment"><i class="fa fa-check"></i><b>4.1</b> Getting Data Sets in Our Working Environment</a><ul>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#built-in-data"><i class="fa fa-check"></i>Built-In Data</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#importing-from-your-computer"><i class="fa fa-check"></i>Importing From Your Computer</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#import-from-online"><i class="fa fa-check"></i>Import From Online</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#basic-data-manipulation"><i class="fa fa-check"></i><b>4.2</b> Basic Data Manipulation</a><ul>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#indexing"><i class="fa fa-check"></i>Indexing</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#rearranging-rows"><i class="fa fa-check"></i>Rearranging Rows</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#adding-columns"><i class="fa fa-check"></i>Adding Columns</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#na-values"><i class="fa fa-check"></i>NA values</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#null"><i class="fa fa-check"></i>NULL</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#adding-rows"><i class="fa fa-check"></i>Adding Rows</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a><ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#build-your-own-function"><i class="fa fa-check"></i><b>5.1</b> Build Your Own Function</a></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#lexical-scoping"><i class="fa fa-check"></i><b>5.2</b> Lexical Scoping</a></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#built-in-functions"><i class="fa fa-check"></i><b>5.3</b> Built-In Functions</a></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#help-files"><i class="fa fa-check"></i><b>5.4</b> Help Files</a></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#the-argument"><i class="fa fa-check"></i><b>5.5</b> The … Argument</a></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#generic-functions"><i class="fa fa-check"></i><b>5.6</b> Generic Functions</a></li>
<li class="chapter" data-level="5.7" data-path="functions.html"><a href="functions.html#additional-resources-2"><i class="fa fa-check"></i><b>5.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="if-statements.html"><a href="if-statements.html"><i class="fa fa-check"></i><b>6</b> If Statements</a><ul>
<li class="chapter" data-level="6.1" data-path="if-statements.html"><a href="if-statements.html#if"><i class="fa fa-check"></i><b>6.1</b> If</a></li>
<li class="chapter" data-level="6.2" data-path="if-statements.html"><a href="if-statements.html#if-else"><i class="fa fa-check"></i><b>6.2</b> If Else</a></li>
<li class="chapter" data-level="6.3" data-path="if-statements.html"><a href="if-statements.html#else-if"><i class="fa fa-check"></i><b>6.3</b> Else If</a></li>
<li class="chapter" data-level="6.4" data-path="if-statements.html"><a href="if-statements.html#ifelse"><i class="fa fa-check"></i><b>6.4</b> Ifelse</a></li>
<li class="chapter" data-level="6.5" data-path="if-statements.html"><a href="if-statements.html#nested-if-chains"><i class="fa fa-check"></i><b>6.5</b> Nested If Chains</a></li>
<li class="chapter" data-level="6.6" data-path="if-statements.html"><a href="if-statements.html#additional-resources-3"><i class="fa fa-check"></i><b>6.6</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="base-r-plotting.html"><a href="base-r-plotting.html"><i class="fa fa-check"></i><b>7</b> Base R Plotting</a><ul>
<li class="chapter" data-level="7.1" data-path="base-r-plotting.html"><a href="base-r-plotting.html#load-a-big-data-set"><i class="fa fa-check"></i><b>7.1</b> Load A Big Data Set</a></li>
<li class="chapter" data-level="7.2" data-path="base-r-plotting.html"><a href="base-r-plotting.html#histograms"><i class="fa fa-check"></i><b>7.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3" data-path="base-r-plotting.html"><a href="base-r-plotting.html#boxplot"><i class="fa fa-check"></i><b>7.3</b> Boxplot</a></li>
<li class="chapter" data-level="7.4" data-path="base-r-plotting.html"><a href="base-r-plotting.html#scatter-plot"><i class="fa fa-check"></i><b>7.4</b> Scatter Plot</a></li>
<li class="chapter" data-level="7.5" data-path="base-r-plotting.html"><a href="base-r-plotting.html#pie-charts"><i class="fa fa-check"></i><b>7.5</b> Pie Charts</a></li>
<li class="chapter" data-level="7.6" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-extra-linespointselements-to-a-graph"><i class="fa fa-check"></i><b>7.6</b> Adding Extra Lines/Points/Elements to a Graph</a></li>
<li class="chapter" data-level="7.7" data-path="base-r-plotting.html"><a href="base-r-plotting.html#the-par-help-file"><i class="fa fa-check"></i><b>7.7</b> The par() Help File</a></li>
<li class="chapter" data-level="7.8" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-legends"><i class="fa fa-check"></i><b>7.8</b> Adding Legends</a></li>
<li class="chapter" data-level="7.9" data-path="base-r-plotting.html"><a href="base-r-plotting.html#the-maps-package"><i class="fa fa-check"></i><b>7.9</b> The “maps” Package</a></li>
<li class="chapter" data-level="7.10" data-path="base-r-plotting.html"><a href="base-r-plotting.html#what-makes-a-good-plot"><i class="fa fa-check"></i><b>7.10</b> What makes a good plot?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>8</b> Packages</a><ul>
<li class="chapter" data-level="8.1" data-path="packages.html"><a href="packages.html#namespace-collisions"><i class="fa fa-check"></i><b>8.1</b> Namespace Collisions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>9</b> Loops</a><ul>
<li class="chapter" data-level="9.1" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>9.1</b> While Loop</a></li>
<li class="chapter" data-level="9.2" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>9.2</b> For Loops</a></li>
<li class="chapter" data-level="9.3" data-path="loops.html"><a href="loops.html#break"><i class="fa fa-check"></i><b>9.3</b> Break</a></li>
<li class="chapter" data-level="9.4" data-path="loops.html"><a href="loops.html#next"><i class="fa fa-check"></i><b>9.4</b> Next</a></li>
<li class="chapter" data-level="9.5" data-path="loops.html"><a href="loops.html#nested-loops"><i class="fa fa-check"></i><b>9.5</b> Nested Loops</a></li>
<li class="chapter" data-level="9.6" data-path="loops.html"><a href="loops.html#additional-resources-4"><i class="fa fa-check"></i><b>9.6</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html"><i class="fa fa-check"></i><b>10</b> Apply Family of Functions</a><ul>
<li class="chapter" data-level="10.1" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#apply"><i class="fa fa-check"></i><b>10.1</b> apply()</a></li>
<li class="chapter" data-level="10.2" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#lapply"><i class="fa fa-check"></i><b>10.2</b> lapply()</a></li>
<li class="chapter" data-level="10.3" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#sapply"><i class="fa fa-check"></i><b>10.3</b> sapply()</a></li>
<li class="chapter" data-level="10.4" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#tapply"><i class="fa fa-check"></i><b>10.4</b> tapply()</a></li>
<li class="chapter" data-level="10.5" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#mapply"><i class="fa fa-check"></i><b>10.5</b> mapply()</a></li>
<li class="chapter" data-level="10.6" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#replicate"><i class="fa fa-check"></i><b>10.6</b> replicate()</a></li>
<li class="chapter" data-level="10.7" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#how-to-pick-a-method"><i class="fa fa-check"></i><b>10.7</b> How to Pick a Method</a></li>
<li class="chapter" data-level="10.8" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#more-examples"><i class="fa fa-check"></i><b>10.8</b> More Examples</a></li>
<li class="chapter" data-level="" data-path="apply-family-of-functions.html"><a href="apply-family-of-functions.html#additional-resources-5"><i class="fa fa-check"></i>Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html"><i class="fa fa-check"></i><b>11</b> Introduction To Text Data Analysis</a><ul>
<li class="chapter" data-level="11.1" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#making-strings"><i class="fa fa-check"></i><b>11.1</b> Making Strings</a></li>
<li class="chapter" data-level="11.2" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#substring-operations"><i class="fa fa-check"></i><b>11.2</b> Substring Operations</a></li>
<li class="chapter" data-level="11.3" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#dividing-strings-into-vectors"><i class="fa fa-check"></i><b>11.3</b> Dividing Strings into Vectors</a></li>
<li class="chapter" data-level="11.4" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#converting-objects-into-strings"><i class="fa fa-check"></i><b>11.4</b> Converting Objects into Strings</a></li>
<li class="chapter" data-level="11.5" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#versatility-of-the-paste-function"><i class="fa fa-check"></i><b>11.5</b> Versatility of the paste() Function</a></li>
<li class="chapter" data-level="11.6" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#gsub-sub"><i class="fa fa-check"></i><b>11.6</b> gsub , sub</a></li>
<li class="chapter" data-level="11.7" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#text-of-some-importance"><i class="fa fa-check"></i><b>11.7</b> Text of Some Importance</a></li>
<li class="chapter" data-level="11.8" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#search"><i class="fa fa-check"></i><b>11.8</b> Search</a></li>
<li class="chapter" data-level="11.9" data-path="introduction-to-text-data-analysis.html"><a href="introduction-to-text-data-analysis.html#word-count-tables"><i class="fa fa-check"></i><b>11.9</b> Word Count Tables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 107 Outline of Class Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="apply-family-of-functions" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Apply Family of Functions</h1>
<p>Loops (like <code>for</code>, and <code>while</code>) are a way to repeatedly execute some code. However, they are often slow in execution when it comes to processing large data sets.</p>
<p><code>R</code> has a more efficient and quick approach to perform iterations – <strong>The apply family</strong>.</p>
<p>The apply family consists of vectorized functions. Below are the most common forms of apply functions.</p>
<ul>
<li><code>apply()</code></li>
<li><code>lapply()</code></li>
<li><code>sapply()</code></li>
<li><code>tapply()</code></li>
<li><code>mapply()</code></li>
<li><code>replicate()</code></li>
</ul>
<p>These functions let you take data in batches and process the whole batch at once.</p>
<p>There primary difference is in the object (such as list, matrix, data frame etc.) on which the function is applied to and the object that will be returned from the function.</p>
<p>These functions apply a function to different components of a vector/list/dataframe/array in a non-sequential way. In general, if each element in your object is not dependent on the other elements of your object then an apply function is usually faster than a loop.</p>
<p><img src="images/lapplyGraphic.png" width="112" style="display: block; margin: auto;" /></p>
<div id="apply" class="section level2">
<h2><span class="header-section-number">10.1</span> apply()</h2>
<p>The <code>apply()</code>function is used to apply a function to the rows or columns of matrices or data frames. It assembles the returned values into a vector, and then returns that vector.</p>
<p>If you want to apply a function on a data frame, make sure that the data frame is homogeneous (i.e. either all numeric values or all character strings) Otherwise, R will force all columns to have identical types. This may not be what you want. In that case, use the <code>lapply()</code> or <code>sapply()</code> functions.</p>
<p>Description of the required <code>apply()</code> arguments:</p>
<ul>
<li><code>X</code>: A matrix , data frame or array</li>
<li><code>MARGIN</code>: A vector giving the subscripts which the function will be applied over.
<ul>
<li>1 indicates rows</li>
<li>2 indicates columns</li>
<li>c(1, 2) indicates rows and columns</li>
</ul></li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="apply-family-of-functions.html#cb467-1"></a><span class="co"># Get column means </span></span>
<span id="cb467-2"><a href="apply-family-of-functions.html#cb467-2"></a>data =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">3</span>)</span>
<span id="cb467-3"><a href="apply-family-of-functions.html#cb467-3"></a>data</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="apply-family-of-functions.html#cb469-1"></a><span class="kw">apply</span>(data, <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>## [1] 2 5 8</code></pre>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="apply-family-of-functions.html#cb471-1"></a><span class="co"># Get row means </span></span>
<span id="cb471-2"><a href="apply-family-of-functions.html#cb471-2"></a><span class="kw">apply</span>(data, <span class="dv">1</span>, sum)</span></code></pre></div>
<pre><code>## [1] 12 15 18</code></pre>
<p>You can use user-defined functions as well.</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="apply-family-of-functions.html#cb473-1"></a><span class="kw">apply</span>(data, <span class="dv">2</span>, <span class="cf">function</span>(x){</span>
<span id="cb473-2"><a href="apply-family-of-functions.html#cb473-2"></a>  </span>
<span id="cb473-3"><a href="apply-family-of-functions.html#cb473-3"></a>  <span class="co"># Standard deviation formula </span></span>
<span id="cb473-4"><a href="apply-family-of-functions.html#cb473-4"></a>  y =<span class="st"> </span><span class="kw">sum</span>(x <span class="op">-</span><span class="kw">mean</span>(x))<span class="op">^</span><span class="dv">2</span><span class="op">/</span>(<span class="kw">length</span>(x)<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb473-5"><a href="apply-family-of-functions.html#cb473-5"></a>  </span>
<span id="cb473-6"><a href="apply-family-of-functions.html#cb473-6"></a>  <span class="kw">return</span>(y)</span>
<span id="cb473-7"><a href="apply-family-of-functions.html#cb473-7"></a>  })</span></code></pre></div>
<pre><code>## [1] 0 0 0</code></pre>
</div>
<div id="lapply" class="section level2">
<h2><span class="header-section-number">10.2</span> lapply()</h2>
<p>The <code>lapply()</code> function is used to apply a function to each element of the list. It collects the returned values into a list, and then <strong>returns that list</strong>.</p>
<p>Description of the required <code>lapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A matrix , data frame or array</li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="apply-family-of-functions.html#cb475-1"></a>data_lst =<span class="st"> </span><span class="kw">list</span>(<span class="dt">item1 =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,</span>
<span id="cb475-2"><a href="apply-family-of-functions.html#cb475-2"></a>             <span class="dt">item2 =</span> <span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">36</span>,<span class="dv">8</span>),</span>
<span id="cb475-3"><a href="apply-family-of-functions.html#cb475-3"></a>             <span class="dt">item3 =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb475-4"><a href="apply-family-of-functions.html#cb475-4"></a>data_lst </span></code></pre></div>
<pre><code>## $item1
## [1] 1 2 3 4 5
## 
## $item2
## [1]  4 12 20 28 36
## 
## $item3
## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="apply-family-of-functions.html#cb477-1"></a>data_vector =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb477-2"><a href="apply-family-of-functions.html#cb477-2"></a>data_vector</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="apply-family-of-functions.html#cb479-1"></a><span class="kw">lapply</span>(data_lst, sum)</span></code></pre></div>
<pre><code>## $item1
## [1] 15
## 
## $item2
## [1] 100
## 
## $item3
## [1] 25</code></pre>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="apply-family-of-functions.html#cb481-1"></a><span class="kw">lapply</span>(data_vector, sum)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3
## 
## [[4]]
## [1] 4
## 
## [[5]]
## [1] 5
## 
## [[6]]
## [1] 6
## 
## [[7]]
## [1] 7
## 
## [[8]]
## [1] 8</code></pre>
</div>
<div id="sapply" class="section level2">
<h2><span class="header-section-number">10.3</span> sapply()</h2>
<p>The <code>sapply()</code> and <code>lapply()</code> work basically the same.</p>
<p>The only difference is that <code>lapply()</code> always returns a list, whereas <code>sapply()</code> tries to simplify the result into a vector or matrix.</p>
<ul>
<li><p>If the return value is a list where every element is length 1, you get a vector.</p></li>
<li><p>If the return value is a list where every element is a vector of the same length (&gt; 1), you get a matrix.</p></li>
<li><p>If the lengths vary, simplification is impossible and you get a list.</p></li>
</ul>
<p>Description of the required <code>sapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A matrix , data frame or array</li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="apply-family-of-functions.html#cb483-1"></a>data_lst =<span class="st"> </span><span class="kw">list</span>(<span class="dt">item1 =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,</span>
<span id="cb483-2"><a href="apply-family-of-functions.html#cb483-2"></a>                 <span class="dt">item2 =</span> <span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">36</span>,<span class="dv">8</span>),</span>
<span id="cb483-3"><a href="apply-family-of-functions.html#cb483-3"></a>                 <span class="dt">item3 =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb483-4"><a href="apply-family-of-functions.html#cb483-4"></a>data_lst</span></code></pre></div>
<pre><code>## $item1
## [1] 1 2 3 4 5
## 
## $item2
## [1]  4 12 20 28 36
## 
## $item3
## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="apply-family-of-functions.html#cb485-1"></a><span class="kw">sapply</span>(data_lst, sum)</span></code></pre></div>
<pre><code>## item1 item2 item3 
##    15   100    25</code></pre>
</div>
<div id="tapply" class="section level2">
<h2><span class="header-section-number">10.4</span> tapply()</h2>
<p>The <code>tapply()</code> function breaks the data set up into groups and applies a function to each group.</p>
<p>Description of the required <code>sapply()</code> arguments:</p>
<ul>
<li><code>X</code>: A matrix , data frame or array</li>
<li><code>INDEX</code>: A grouping factor or a list of factors</li>
<li><code>FUN</code>: The function to be applied</li>
</ul>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="apply-family-of-functions.html#cb487-1"></a>data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Amy&quot;</span>,<span class="st">&quot;Max&quot;</span>,<span class="st">&quot;Ray&quot;</span>,<span class="st">&quot;Kim&quot;</span>,<span class="st">&quot;Sam&quot;</span>,<span class="st">&quot;Eve&quot;</span>,<span class="st">&quot;Bob&quot;</span>), </span>
<span id="cb487-2"><a href="apply-family-of-functions.html#cb487-2"></a>                  <span class="dt">age=</span><span class="kw">c</span>(<span class="dv">24</span>, <span class="dv">22</span>, <span class="dv">21</span>, <span class="dv">23</span>, <span class="dv">20</span>, <span class="dv">24</span>, <span class="dv">21</span>),</span>
<span id="cb487-3"><a href="apply-family-of-functions.html#cb487-3"></a>                  <span class="dt">gender=</span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>))) </span>
<span id="cb487-4"><a href="apply-family-of-functions.html#cb487-4"></a></span>
<span id="cb487-5"><a href="apply-family-of-functions.html#cb487-5"></a>data</span></code></pre></div>
<pre><code>##   name age gender
## 1  Amy  24      F
## 2  Max  22      M
## 3  Ray  21      M
## 4  Kim  23      F
## 5  Sam  20      M
## 6  Eve  24      F
## 7  Bob  21      M</code></pre>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="apply-family-of-functions.html#cb489-1"></a><span class="kw">tapply</span>(data<span class="op">$</span>age, data<span class="op">$</span>gender, min)</span></code></pre></div>
<pre><code>##  F  M 
## 23 20</code></pre>
</div>
<div id="mapply" class="section level2">
<h2><span class="header-section-number">10.5</span> mapply()</h2>
<p>The <code>mapply()</code> function is a multivariate version of <code>sapply()</code>. It applies <code>FUN</code> to the first elements of each … argument, the second elements, the third elements, and so on.</p>
<p>Description of the required <code>mapply()</code> arguments:</p>
<ul>
<li><code>FUN</code>: The function to be applied</li>
<li><code>...</code>: Arguments to vectorize over (vectors or lists of strictly positive length, or all of zero length).</li>
</ul>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="apply-family-of-functions.html#cb491-1"></a><span class="kw">mapply</span>(rep, <span class="dt">times =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">x =</span> <span class="dv">4</span><span class="op">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 4
## 
## [[2]]
## [1] 3 3
## 
## [[3]]
## [1] 2 2 2
## 
## [[4]]
## [1] 1 1 1 1</code></pre>
</div>
<div id="replicate" class="section level2">
<h2><span class="header-section-number">10.6</span> replicate()</h2>
<p>The <code>replicate()</code> function is a wrapper for <code>sapply()</code>. If we want to repeat an evaluation of an function call or an expression that does not require us to iterate through a data set or vector we can use <code>replicate()</code>.</p>
<p>Description of the required <code>replicate()</code> arguments:</p>
<ul>
<li><code>n</code>: An integer containing the number of replications.</li>
<li><code>expr</code>: The expression (or function call) to evaluate repeatedly.</li>
</ul>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="apply-family-of-functions.html#cb493-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">4</span>, <span class="st">&quot;Hello&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello&quot; &quot;Hello&quot; &quot;Hello&quot; &quot;Hello&quot;</code></pre>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="apply-family-of-functions.html#cb495-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="kw">factorial</span>(<span class="dv">4</span>))</span></code></pre></div>
<pre><code>##  [1] 24 24 24 24 24 24 24 24 24 24</code></pre>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="apply-family-of-functions.html#cb497-1"></a><span class="kw">replicate</span>(<span class="dt">n =</span> <span class="dv">5</span>, <span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)))</span></code></pre></div>
<pre><code>##      [,1]   [,2]   [,3]   [,4]   [,5]  
## [1,] &quot;red&quot;  &quot;red&quot;  &quot;red&quot;  &quot;red&quot;  &quot;blue&quot;
## [2,] &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;blue&quot; &quot;red&quot;</code></pre>
</div>
<div id="how-to-pick-a-method" class="section level2">
<h2><span class="header-section-number">10.7</span> How to Pick a Method</h2>
<p>It can be difficult at first to decide which of these apply function you may want to use. In general, we can use the flow chart below as a quick guide.</p>
<p><img src="images/ApplyFlowChart.png" width="716" style="display: block; margin: auto;" /></p>
</div>
<div id="more-examples" class="section level2">
<h2><span class="header-section-number">10.8</span> More Examples</h2>
<p>To see some more examples of these functions in action. We will use the <code>iris</code> data set which is a built in data set in R. This data set has four numeric columns, and one factor column, <code>Species</code>. Each row is a flower, and there are four different measurements of each flower.</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="apply-family-of-functions.html#cb499-1"></a><span class="kw">head</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="apply-family-of-functions.html#cb501-1"></a><span class="kw">summary</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<p>Find the maximum value for the numeric variables for each observation.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="apply-family-of-functions.html#cb503-1"></a>numeric_iris =<span class="st"> </span>iris[,<span class="op">-</span><span class="dv">5</span>]</span>
<span id="cb503-2"><a href="apply-family-of-functions.html#cb503-2"></a>max_in_row =<span class="st"> </span><span class="kw">apply</span>(numeric_iris, <span class="dv">1</span>, max)</span>
<span id="cb503-3"><a href="apply-family-of-functions.html#cb503-3"></a><span class="kw">head</span>(max_in_row)</span></code></pre></div>
<pre><code>## [1] 5.1 4.9 4.7 4.6 5.0 5.4</code></pre>
<p>Determine the (arithmetic) mean of the sepal width for each species.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="apply-family-of-functions.html#cb505-1"></a>mean_species =<span class="st"> </span><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Width, <span class="dt">INDEX =</span> iris<span class="op">$</span>Species, mean)</span>
<span id="cb505-2"><a href="apply-family-of-functions.html#cb505-2"></a>mean_species</span></code></pre></div>
<pre><code>##     setosa versicolor  virginica 
##      3.428      2.770      2.974</code></pre>
<p>Determine the (arithmetic) mean and the median of sepal width for each species.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="apply-family-of-functions.html#cb507-1"></a>my_avgs =<span class="st"> </span><span class="cf">function</span>(vec){</span>
<span id="cb507-2"><a href="apply-family-of-functions.html#cb507-2"></a>  the_mean =<span class="st"> </span><span class="kw">mean</span>(vec)</span>
<span id="cb507-3"><a href="apply-family-of-functions.html#cb507-3"></a>  the_median =<span class="st"> </span><span class="kw">median</span>(vec)</span>
<span id="cb507-4"><a href="apply-family-of-functions.html#cb507-4"></a>  return_object=<span class="kw">c</span>(the_mean, the_median)</span>
<span id="cb507-5"><a href="apply-family-of-functions.html#cb507-5"></a>  <span class="kw">names</span>(return_object) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;mean&quot;</span>, <span class="st">&quot;median&quot;</span>)</span>
<span id="cb507-6"><a href="apply-family-of-functions.html#cb507-6"></a>  <span class="kw">return</span>(return_object)</span>
<span id="cb507-7"><a href="apply-family-of-functions.html#cb507-7"></a>}</span>
<span id="cb507-8"><a href="apply-family-of-functions.html#cb507-8"></a></span>
<span id="cb507-9"><a href="apply-family-of-functions.html#cb507-9"></a>species_avgs =<span class="st"> </span><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Width, </span>
<span id="cb507-10"><a href="apply-family-of-functions.html#cb507-10"></a>                      iris<span class="op">$</span>Species,</span>
<span id="cb507-11"><a href="apply-family-of-functions.html#cb507-11"></a>                      my_avgs)</span>
<span id="cb507-12"><a href="apply-family-of-functions.html#cb507-12"></a>species_avgs</span></code></pre></div>
<pre><code>## $setosa
##   mean median 
##  3.428  3.400 
## 
## $versicolor
##   mean median 
##   2.77   2.80 
## 
## $virginica
##   mean median 
##  2.974  3.000</code></pre>
<p>Make a plot of the sepal width and sepal length. Make the points differ depending on the species type.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="apply-family-of-functions.html#cb509-1"></a><span class="co"># Starting plot, make it blank </span></span>
<span id="cb509-2"><a href="apply-family-of-functions.html#cb509-2"></a><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Sepal.Width, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb509-3"><a href="apply-family-of-functions.html#cb509-3"></a></span>
<span id="cb509-4"><a href="apply-family-of-functions.html#cb509-4"></a></span>
<span id="cb509-5"><a href="apply-family-of-functions.html#cb509-5"></a><span class="co"># Custom function to add the points</span></span>
<span id="cb509-6"><a href="apply-family-of-functions.html#cb509-6"></a>add_points =<span class="st"> </span><span class="cf">function</span>(the_data, ...){</span>
<span id="cb509-7"><a href="apply-family-of-functions.html#cb509-7"></a>  </span>
<span id="cb509-8"><a href="apply-family-of-functions.html#cb509-8"></a>  <span class="cf">if</span>(the_data[<span class="dv">5</span>]<span class="op">==</span><span class="st">&quot;setosa&quot;</span>){</span>
<span id="cb509-9"><a href="apply-family-of-functions.html#cb509-9"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb509-10"><a href="apply-family-of-functions.html#cb509-10"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb509-11"><a href="apply-family-of-functions.html#cb509-11"></a>           <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb509-12"><a href="apply-family-of-functions.html#cb509-12"></a>           <span class="dt">pch =</span> <span class="dv">0</span>)</span>
<span id="cb509-13"><a href="apply-family-of-functions.html#cb509-13"></a>  } <span class="cf">else</span> <span class="cf">if</span>(the_data[<span class="dv">5</span>]<span class="op">==</span><span class="st">&quot;virginica&quot;</span>){</span>
<span id="cb509-14"><a href="apply-family-of-functions.html#cb509-14"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb509-15"><a href="apply-family-of-functions.html#cb509-15"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb509-16"><a href="apply-family-of-functions.html#cb509-16"></a>           <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb509-17"><a href="apply-family-of-functions.html#cb509-17"></a>           <span class="dt">pch =</span> <span class="dv">2</span>)</span>
<span id="cb509-18"><a href="apply-family-of-functions.html#cb509-18"></a>  } <span class="cf">else</span>{</span>
<span id="cb509-19"><a href="apply-family-of-functions.html#cb509-19"></a>    <span class="kw">points</span>(<span class="dt">x =</span> the_data[<span class="dv">1</span>], </span>
<span id="cb509-20"><a href="apply-family-of-functions.html#cb509-20"></a>           <span class="dt">y =</span> the_data[<span class="dv">2</span>], </span>
<span id="cb509-21"><a href="apply-family-of-functions.html#cb509-21"></a>           <span class="dt">col =</span> <span class="st">&quot;green&quot;</span>, </span>
<span id="cb509-22"><a href="apply-family-of-functions.html#cb509-22"></a>           <span class="dt">pch =</span> <span class="dv">10</span>)</span>
<span id="cb509-23"><a href="apply-family-of-functions.html#cb509-23"></a>    </span>
<span id="cb509-24"><a href="apply-family-of-functions.html#cb509-24"></a>  }</span>
<span id="cb509-25"><a href="apply-family-of-functions.html#cb509-25"></a>} </span>
<span id="cb509-26"><a href="apply-family-of-functions.html#cb509-26"></a></span>
<span id="cb509-27"><a href="apply-family-of-functions.html#cb509-27"></a></span>
<span id="cb509-28"><a href="apply-family-of-functions.html#cb509-28"></a><span class="co"># Use apply to add points</span></span>
<span id="cb509-29"><a href="apply-family-of-functions.html#cb509-29"></a><span class="kw">apply</span>(iris, <span class="dv">1</span>, add_points)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-190-1.png" width="672" /></p>
<pre><code>## NULL</code></pre>
<p>Make a plot of the sepal width and sepal length. Make the points differ depending on the species type. Add the (arithmetic) mean of these two variables for each group.</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="apply-family-of-functions.html#cb511-1"></a><span class="co"># ------ PLOT FROM BEFORE</span></span>
<span id="cb511-2"><a href="apply-family-of-functions.html#cb511-2"></a><span class="co"># Starting plot, make it blank </span></span>
<span id="cb511-3"><a href="apply-family-of-functions.html#cb511-3"></a><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Sepal.Width, <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb511-4"><a href="apply-family-of-functions.html#cb511-4"></a><span class="kw">apply</span>(iris, <span class="dv">1</span>, add_points)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="apply-family-of-functions.html#cb513-1"></a><span class="co"># ------ </span></span>
<span id="cb513-2"><a href="apply-family-of-functions.html#cb513-2"></a></span>
<span id="cb513-3"><a href="apply-family-of-functions.html#cb513-3"></a></span>
<span id="cb513-4"><a href="apply-family-of-functions.html#cb513-4"></a><span class="co"># Split the data into a list by factor</span></span>
<span id="cb513-5"><a href="apply-family-of-functions.html#cb513-5"></a>split_iris =<span class="st"> </span><span class="kw">split</span>(iris, <span class="dt">f =</span> iris<span class="op">$</span>Species)</span>
<span id="cb513-6"><a href="apply-family-of-functions.html#cb513-6"></a></span>
<span id="cb513-7"><a href="apply-family-of-functions.html#cb513-7"></a><span class="co"># Iterate through the list and add (black) points to the plot</span></span>
<span id="cb513-8"><a href="apply-family-of-functions.html#cb513-8"></a><span class="kw">lapply</span>(split_iris, <span class="cf">function</span>(species_data){</span>
<span id="cb513-9"><a href="apply-family-of-functions.html#cb513-9"></a>  <span class="kw">points</span>(<span class="kw">mean</span>(species_data<span class="op">$</span>Sepal.Length), </span>
<span id="cb513-10"><a href="apply-family-of-functions.html#cb513-10"></a>         <span class="kw">mean</span>(species_data<span class="op">$</span>Sepal.Width), </span>
<span id="cb513-11"><a href="apply-family-of-functions.html#cb513-11"></a>         <span class="dt">pch =</span> <span class="dv">16</span>) </span>
<span id="cb513-12"><a href="apply-family-of-functions.html#cb513-12"></a>})</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-191-1.png" width="672" /></p>
<pre><code>## $setosa
## NULL
## 
## $versicolor
## NULL
## 
## $virginica
## NULL</code></pre>
<p>Lets try using another example. Suppose we wish to use the following formula (below) with <code>a = Sepal.Length</code>, <code>b = Sepal.Width</code>, and <code>c = Petal.Length</code>.
<span class="math display">\[ \frac{-b + \sqrt{b^2-4ac} }{2a}\]</span></p>
<p>Now there is more efficient ways to do this in R, but lets practice how we would do it with <code>mapply</code> as an example.</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="apply-family-of-functions.html#cb515-1"></a>my_formula =<span class="st"> </span><span class="cf">function</span>(a, b, c){</span>
<span id="cb515-2"><a href="apply-family-of-functions.html#cb515-2"></a>  num =<span class="st"> </span>(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))</span>
<span id="cb515-3"><a href="apply-family-of-functions.html#cb515-3"></a>  den =<span class="st"> </span><span class="dv">2</span><span class="op">*</span>a</span>
<span id="cb515-4"><a href="apply-family-of-functions.html#cb515-4"></a>  </span>
<span id="cb515-5"><a href="apply-family-of-functions.html#cb515-5"></a>  answer =<span class="st"> </span>num<span class="op">/</span>den</span>
<span id="cb515-6"><a href="apply-family-of-functions.html#cb515-6"></a>  <span class="kw">return</span>(answer)</span>
<span id="cb515-7"><a href="apply-family-of-functions.html#cb515-7"></a>}</span>
<span id="cb515-8"><a href="apply-family-of-functions.html#cb515-8"></a></span>
<span id="cb515-9"><a href="apply-family-of-functions.html#cb515-9"></a>formula_results =<span class="st"> </span><span class="kw">mapply</span>(my_formula, </span>
<span id="cb515-10"><a href="apply-family-of-functions.html#cb515-10"></a>                         <span class="dt">a =</span> iris<span class="op">$</span>Sepal.Length, </span>
<span id="cb515-11"><a href="apply-family-of-functions.html#cb515-11"></a>                         <span class="dt">b =</span> iris<span class="op">$</span>Sepal.Width, </span>
<span id="cb515-12"><a href="apply-family-of-functions.html#cb515-12"></a>                         <span class="dt">c =</span> iris<span class="op">$</span>Petal.Length)</span>
<span id="cb515-13"><a href="apply-family-of-functions.html#cb515-13"></a><span class="kw">head</span>(formula_results)</span></code></pre></div>
<pre><code>## [1] 0.2831638 0.3098526 0.2860609 0.3260870 0.2800000 0.3061340</code></pre>
</div>
<div id="additional-resources-5" class="section level2 unnumbered">
<h2>Additional Resources</h2>
<ul>
<li><a href="http://adv-r.had.co.nz/Functionals.html" class="uri">http://adv-r.had.co.nz/Functionals.html</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="loops.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-text-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/09-apply-family.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
