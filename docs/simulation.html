<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 Simulation | STAT 107 Outline of Class Notes</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 Simulation | STAT 107 Outline of Class Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 Simulation | STAT 107 Outline of Class Notes" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Rebecca Kurtz-Garcia" />


<meta name="date" content="2021-11-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="regular-expressions.html"/>
<link rel="next" href="plyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 107 Outline of Class Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#download-and-install-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Download and Install R and Rstudio</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#the-rstudio-interface"><i class="fa fa-check"></i><b>1.2</b> The <strong>RStudio</strong> Interface</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bottom-left-pane"><i class="fa fa-check"></i>Bottom Left Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#bottom-right-pane"><i class="fa fa-check"></i>Bottom Right Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#top-right-pane"><i class="fa fa-check"></i>Top Right Pane</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#top-left-pane"><i class="fa fa-check"></i>Top Left Pane</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#comments"><i class="fa fa-check"></i><b>1.3</b> Comments</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operators"><i class="fa fa-check"></i><b>1.4</b> Operators</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#arithmetic-operators"><i class="fa fa-check"></i>Arithmetic Operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#relational-operators"><i class="fa fa-check"></i>Relational Operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#logical-operators"><i class="fa fa-check"></i>Logical operators</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r.html"><a href="introduction-to-r.html#assignment-operators"><i class="fa fa-check"></i>Assignment Operators</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#additional-resources"><i class="fa fa-check"></i><b>1.5</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html"><i class="fa fa-check"></i><b>2</b> Introduction to R Objects</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#atomic-objects"><i class="fa fa-check"></i><b>2.1</b> Atomic Objects</a><ul>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#numeric"><i class="fa fa-check"></i>Numeric</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#integer"><i class="fa fa-check"></i>Integer</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#logical"><i class="fa fa-check"></i>Logical</a></li>
<li class="chapter" data-level="" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#character"><i class="fa fa-check"></i>Character</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#vectors"><i class="fa fa-check"></i><b>2.2</b> Vectors</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#lists"><i class="fa fa-check"></i><b>2.3</b> Lists</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#matrices"><i class="fa fa-check"></i><b>2.4</b> Matrices</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#factors"><i class="fa fa-check"></i><b>2.5</b> Factors</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#data-frames"><i class="fa fa-check"></i><b>2.6</b> Data Frames</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#other-object-types-and-the-global-environment"><i class="fa fa-check"></i><b>2.7</b> Other Object Types and the Global Environment</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r-objects.html"><a href="introduction-to-r-objects.html#additional-resources-1"><i class="fa fa-check"></i><b>2.8</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html"><i class="fa fa-check"></i><b>3</b> More on R Objects</a><ul>
<li class="chapter" data-level="3.1" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html#factors-1"><i class="fa fa-check"></i><b>3.1</b> Factors</a></li>
<li class="chapter" data-level="3.2" data-path="more-on-r-objects.html"><a href="more-on-r-objects.html#lists-1"><i class="fa fa-check"></i><b>3.2</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html"><i class="fa fa-check"></i><b>4</b> Working with Data Sets</a><ul>
<li class="chapter" data-level="4.1" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#getting-data-sets-in-our-working-environment"><i class="fa fa-check"></i><b>4.1</b> Getting Data Sets in Our Working Environment</a><ul>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#built-in-data"><i class="fa fa-check"></i>Built-In Data</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#importing-from-your-computer"><i class="fa fa-check"></i>Importing From Your Computer</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#import-from-online"><i class="fa fa-check"></i>Import From Online</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#basic-data-manipulation"><i class="fa fa-check"></i><b>4.2</b> Basic Data Manipulation</a><ul>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#indexing"><i class="fa fa-check"></i>Indexing</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#rearranging-rows"><i class="fa fa-check"></i>Rearranging Rows</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#adding-columns"><i class="fa fa-check"></i>Adding Columns</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#na-values"><i class="fa fa-check"></i>NA values</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#null"><i class="fa fa-check"></i>NULL</a></li>
<li class="chapter" data-level="" data-path="working-with-data-sets.html"><a href="working-with-data-sets.html#adding-rows"><i class="fa fa-check"></i>Adding Rows</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a><ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#build-your-own-function"><i class="fa fa-check"></i><b>5.1</b> Build Your Own Function</a></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#lexical-scoping"><i class="fa fa-check"></i><b>5.2</b> Lexical Scoping</a></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#built-in-functions"><i class="fa fa-check"></i><b>5.3</b> Built-In Functions</a></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#help-files"><i class="fa fa-check"></i><b>5.4</b> Help Files</a></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#the-argument"><i class="fa fa-check"></i><b>5.5</b> The … Argument</a></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#generic-functions"><i class="fa fa-check"></i><b>5.6</b> Generic Functions</a></li>
<li class="chapter" data-level="5.7" data-path="functions.html"><a href="functions.html#additional-resources-2"><i class="fa fa-check"></i><b>5.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="if-statements.html"><a href="if-statements.html"><i class="fa fa-check"></i><b>6</b> If Statements</a><ul>
<li class="chapter" data-level="6.1" data-path="if-statements.html"><a href="if-statements.html#if"><i class="fa fa-check"></i><b>6.1</b> If</a></li>
<li class="chapter" data-level="6.2" data-path="if-statements.html"><a href="if-statements.html#if-else"><i class="fa fa-check"></i><b>6.2</b> If Else</a></li>
<li class="chapter" data-level="6.3" data-path="if-statements.html"><a href="if-statements.html#else-if"><i class="fa fa-check"></i><b>6.3</b> Else If</a></li>
<li class="chapter" data-level="6.4" data-path="if-statements.html"><a href="if-statements.html#ifelse"><i class="fa fa-check"></i><b>6.4</b> Ifelse</a></li>
<li class="chapter" data-level="6.5" data-path="if-statements.html"><a href="if-statements.html#nested-if-chains"><i class="fa fa-check"></i><b>6.5</b> Nested If Chains</a></li>
<li class="chapter" data-level="6.6" data-path="if-statements.html"><a href="if-statements.html#additional-resources-3"><i class="fa fa-check"></i><b>6.6</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="base-r-plotting.html"><a href="base-r-plotting.html"><i class="fa fa-check"></i><b>7</b> Base R Plotting</a><ul>
<li class="chapter" data-level="7.1" data-path="base-r-plotting.html"><a href="base-r-plotting.html#load-a-big-data-set"><i class="fa fa-check"></i><b>7.1</b> Load A Big Data Set</a></li>
<li class="chapter" data-level="7.2" data-path="base-r-plotting.html"><a href="base-r-plotting.html#histograms"><i class="fa fa-check"></i><b>7.2</b> Histograms</a></li>
<li class="chapter" data-level="7.3" data-path="base-r-plotting.html"><a href="base-r-plotting.html#boxplot"><i class="fa fa-check"></i><b>7.3</b> Boxplot</a></li>
<li class="chapter" data-level="7.4" data-path="base-r-plotting.html"><a href="base-r-plotting.html#scatter-plot"><i class="fa fa-check"></i><b>7.4</b> Scatter Plot</a></li>
<li class="chapter" data-level="7.5" data-path="base-r-plotting.html"><a href="base-r-plotting.html#pie-charts"><i class="fa fa-check"></i><b>7.5</b> Pie Charts</a></li>
<li class="chapter" data-level="7.6" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-extra-linespointselements-to-a-graph"><i class="fa fa-check"></i><b>7.6</b> Adding Extra Lines/Points/Elements to a Graph</a></li>
<li class="chapter" data-level="7.7" data-path="base-r-plotting.html"><a href="base-r-plotting.html#the-par-help-file"><i class="fa fa-check"></i><b>7.7</b> The par() Help File</a></li>
<li class="chapter" data-level="7.8" data-path="base-r-plotting.html"><a href="base-r-plotting.html#adding-legends"><i class="fa fa-check"></i><b>7.8</b> Adding Legends</a></li>
<li class="chapter" data-level="7.9" data-path="base-r-plotting.html"><a href="base-r-plotting.html#the-maps-package"><i class="fa fa-check"></i><b>7.9</b> The “maps” Package</a></li>
<li class="chapter" data-level="7.10" data-path="base-r-plotting.html"><a href="base-r-plotting.html#what-makes-a-good-plot"><i class="fa fa-check"></i><b>7.10</b> What makes a good plot?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>8</b> Packages</a><ul>
<li class="chapter" data-level="8.1" data-path="packages.html"><a href="packages.html#namespace-collisions"><i class="fa fa-check"></i><b>8.1</b> Namespace Collisions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>9</b> Loops</a><ul>
<li class="chapter" data-level="9.1" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>9.1</b> While Loop</a></li>
<li class="chapter" data-level="9.2" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>9.2</b> For Loops</a></li>
<li class="chapter" data-level="9.3" data-path="loops.html"><a href="loops.html#break"><i class="fa fa-check"></i><b>9.3</b> Break</a></li>
<li class="chapter" data-level="9.4" data-path="loops.html"><a href="loops.html#next"><i class="fa fa-check"></i><b>9.4</b> Next</a></li>
<li class="chapter" data-level="9.5" data-path="loops.html"><a href="loops.html#nested-loops"><i class="fa fa-check"></i><b>9.5</b> Nested Loops</a></li>
<li class="chapter" data-level="9.6" data-path="loops.html"><a href="loops.html#additional-resources-4"><i class="fa fa-check"></i><b>9.6</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="apply.html"><a href="apply.html"><i class="fa fa-check"></i><b>10</b> Apply Family of Functions</a><ul>
<li class="chapter" data-level="10.1" data-path="apply.html"><a href="apply.html#apply-1"><i class="fa fa-check"></i><b>10.1</b> apply()</a></li>
<li class="chapter" data-level="10.2" data-path="apply.html"><a href="apply.html#lapply"><i class="fa fa-check"></i><b>10.2</b> lapply()</a></li>
<li class="chapter" data-level="10.3" data-path="apply.html"><a href="apply.html#sapply"><i class="fa fa-check"></i><b>10.3</b> sapply()</a></li>
<li class="chapter" data-level="10.4" data-path="apply.html"><a href="apply.html#tapply"><i class="fa fa-check"></i><b>10.4</b> tapply()</a></li>
<li class="chapter" data-level="10.5" data-path="apply.html"><a href="apply.html#mapply"><i class="fa fa-check"></i><b>10.5</b> mapply()</a></li>
<li class="chapter" data-level="10.6" data-path="apply.html"><a href="apply.html#replicate"><i class="fa fa-check"></i><b>10.6</b> replicate()</a></li>
<li class="chapter" data-level="10.7" data-path="apply.html"><a href="apply.html#how-to-pick-a-method"><i class="fa fa-check"></i><b>10.7</b> How to Pick a Method</a></li>
<li class="chapter" data-level="10.8" data-path="apply.html"><a href="apply.html#more-examples"><i class="fa fa-check"></i><b>10.8</b> More Examples</a></li>
<li class="chapter" data-level="" data-path="apply.html"><a href="apply.html#additional-resources-5"><i class="fa fa-check"></i>Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="text-data.html"><a href="text-data.html"><i class="fa fa-check"></i><b>11</b> Text Data</a><ul>
<li class="chapter" data-level="11.1" data-path="text-data.html"><a href="text-data.html#making-strings"><i class="fa fa-check"></i><b>11.1</b> Making Strings</a></li>
<li class="chapter" data-level="11.2" data-path="text-data.html"><a href="text-data.html#substring-operations"><i class="fa fa-check"></i><b>11.2</b> Substring Operations</a></li>
<li class="chapter" data-level="11.3" data-path="text-data.html"><a href="text-data.html#dividing-strings-into-vectors"><i class="fa fa-check"></i><b>11.3</b> Dividing Strings into Vectors</a></li>
<li class="chapter" data-level="11.4" data-path="text-data.html"><a href="text-data.html#converting-objects-into-strings"><i class="fa fa-check"></i><b>11.4</b> Converting Objects into Strings</a></li>
<li class="chapter" data-level="11.5" data-path="text-data.html"><a href="text-data.html#versatility-of-the-paste-function"><i class="fa fa-check"></i><b>11.5</b> Versatility of the paste() Function</a></li>
<li class="chapter" data-level="11.6" data-path="text-data.html"><a href="text-data.html#gsub-sub"><i class="fa fa-check"></i><b>11.6</b> gsub , sub</a></li>
<li class="chapter" data-level="11.7" data-path="text-data.html"><a href="text-data.html#text-of-some-importance"><i class="fa fa-check"></i><b>11.7</b> Text of Some Importance</a></li>
<li class="chapter" data-level="11.8" data-path="text-data.html"><a href="text-data.html#search"><i class="fa fa-check"></i><b>11.8</b> Search</a></li>
<li class="chapter" data-level="11.9" data-path="text-data.html"><a href="text-data.html#word-count-tables"><i class="fa fa-check"></i><b>11.9</b> Word Count Tables</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>12</b> Regular Expressions</a><ul>
<li class="chapter" data-level="12.1" data-path="regular-expressions.html"><a href="regular-expressions.html#ranges-escaping"><i class="fa fa-check"></i><b>12.1</b> Ranges, Escaping</a></li>
<li class="chapter" data-level="12.2" data-path="regular-expressions.html"><a href="regular-expressions.html#metacharacters"><i class="fa fa-check"></i><b>12.2</b> Metacharacters</a></li>
<li class="chapter" data-level="12.3" data-path="regular-expressions.html"><a href="regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>12.3</b> Quantifiers</a></li>
<li class="chapter" data-level="12.4" data-path="regular-expressions.html"><a href="regular-expressions.html#anchoring"><i class="fa fa-check"></i><b>12.4</b> Anchoring</a></li>
<li class="chapter" data-level="12.5" data-path="regular-expressions.html"><a href="regular-expressions.html#splitting-on-a-regexp"><i class="fa fa-check"></i><b>12.5</b> Splitting on a Regexp</a></li>
<li class="chapter" data-level="12.6" data-path="regular-expressions.html"><a href="regular-expressions.html#an-example"><i class="fa fa-check"></i><b>12.6</b> An Example</a><ul>
<li class="chapter" data-level="12.6.1" data-path="regular-expressions.html"><a href="regular-expressions.html#match-locations-and-substrings"><i class="fa fa-check"></i><b>12.6.1</b> Match Locations and Substrings</a></li>
<li class="chapter" data-level="12.6.2" data-path="regular-expressions.html"><a href="regular-expressions.html#replacements"><i class="fa fa-check"></i><b>12.6.2</b> Replacements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="regular-expressions.html"><a href="regular-expressions.html#additional-resources-6"><i class="fa fa-check"></i>Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>13</b> Simulation</a><ul>
<li class="chapter" data-level="13.1" data-path="simulation.html"><a href="simulation.html#what-are-simulation-studies"><i class="fa fa-check"></i><b>13.1</b> What Are Simulation Studies</a></li>
<li class="chapter" data-level="13.2" data-path="simulation.html"><a href="simulation.html#review-random-variables"><i class="fa fa-check"></i><b>13.2</b> Review Random Variables</a></li>
<li class="chapter" data-level="13.3" data-path="simulation.html"><a href="simulation.html#generating-random-variables"><i class="fa fa-check"></i><b>13.3</b> Generating Random Variables</a></li>
<li class="chapter" data-level="13.4" data-path="simulation.html"><a href="simulation.html#setting-a-seed"><i class="fa fa-check"></i><b>13.4</b> Setting a Seed</a></li>
<li class="chapter" data-level="13.5" data-path="simulation.html"><a href="simulation.html#sample"><i class="fa fa-check"></i><b>13.5</b> sample()</a></li>
<li class="chapter" data-level="13.6" data-path="simulation.html"><a href="simulation.html#replicate-1"><i class="fa fa-check"></i><b>13.6</b> replicate()</a></li>
<li class="chapter" data-level="13.7" data-path="simulation.html"><a href="simulation.html#adding-curves-to-graphs"><i class="fa fa-check"></i><b>13.7</b> Adding curves to graphs</a></li>
<li class="chapter" data-level="13.8" data-path="simulation.html"><a href="simulation.html#example-central-limit-theorem-clt"><i class="fa fa-check"></i><b>13.8</b> Example: Central Limit Theorem (CLT)</a><ul>
<li class="chapter" data-level="13.8.1" data-path="simulation.html"><a href="simulation.html#recall-clt"><i class="fa fa-check"></i><b>13.8.1</b> Recall CLT</a></li>
<li class="chapter" data-level="13.8.2" data-path="simulation.html"><a href="simulation.html#assumption-violations-of-clt"><i class="fa fa-check"></i><b>13.8.2</b> Assumption Violations of CLT</a></li>
<li class="chapter" data-level="13.8.3" data-path="simulation.html"><a href="simulation.html#the-data"><i class="fa fa-check"></i><b>13.8.3</b> The Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="plyr.html"><a href="plyr.html"><i class="fa fa-check"></i><b>14</b> plyr</a><ul>
<li class="chapter" data-level="14.1" data-path="plyr.html"><a href="plyr.html#tidyverse-and-plyr"><i class="fa fa-check"></i><b>14.1</b> Tidyverse and plyr</a></li>
<li class="chapter" data-level="14.2" data-path="plyr.html"><a href="plyr.html#iteration-with-plyr"><i class="fa fa-check"></i><b>14.2</b> Iteration with plyr</a></li>
<li class="chapter" data-level="14.3" data-path="plyr.html"><a href="plyr.html#syntax"><i class="fa fa-check"></i><b>14.3</b> Syntax</a></li>
<li class="chapter" data-level="14.4" data-path="plyr.html"><a href="plyr.html#inputs"><i class="fa fa-check"></i><b>14.4</b> Inputs</a><ul>
<li class="chapter" data-level="14.4.1" data-path="plyr.html"><a href="plyr.html#input-aply"><i class="fa fa-check"></i><b>14.4.1</b> Input: a*ply()</a></li>
<li class="chapter" data-level="14.4.2" data-path="plyr.html"><a href="plyr.html#input-dply"><i class="fa fa-check"></i><b>14.4.2</b> Input: d*ply()</a></li>
<li class="chapter" data-level="14.4.3" data-path="plyr.html"><a href="plyr.html#input-lply"><i class="fa fa-check"></i><b>14.4.3</b> Input: l*ply()</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="plyr.html"><a href="plyr.html#outputs"><i class="fa fa-check"></i><b>14.5</b> Outputs</a></li>
<li class="chapter" data-level="14.6" data-path="plyr.html"><a href="plyr.html#helpers"><i class="fa fa-check"></i><b>14.6</b> Helpers</a></li>
<li class="chapter" data-level="14.7" data-path="plyr.html"><a href="plyr.html#examples"><i class="fa fa-check"></i><b>14.7</b> Examples</a><ul>
<li class="chapter" data-level="" data-path="plyr.html"><a href="plyr.html#creating-new-columns-in-a-data-set"><i class="fa fa-check"></i>Creating New Columns in a Data Set</a></li>
<li class="chapter" data-level="" data-path="plyr.html"><a href="plyr.html#creating-a-new-data-set-from-the-original"><i class="fa fa-check"></i>Creating a New Data Set From the Original</a></li>
<li class="chapter" data-level="" data-path="plyr.html"><a href="plyr.html#base-r-plotting-with-plyr"><i class="fa fa-check"></i>Base R Plotting with plyr</a></li>
<li class="chapter" data-level="" data-path="plyr.html"><a href="plyr.html#using-your-own-function"><i class="fa fa-check"></i>Using your own function</a></li>
<li class="chapter" data-level="" data-path="plyr.html"><a href="plyr.html#more-plyr-functions"><i class="fa fa-check"></i>More plyr Functions</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="plyr.html"><a href="plyr.html#comparing-base-r-loops-plyr"><i class="fa fa-check"></i><b>14.8</b> Comparing Base R, Loops, plyr</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>15</b> ggplot2</a><ul>
<li class="chapter" data-level="15.1" data-path="ggplot2.html"><a href="ggplot2.html#tidyverse-and-ggplot2"><i class="fa fa-check"></i><b>15.1</b> Tidyverse and ggplot2</a></li>
<li class="chapter" data-level="15.2" data-path="ggplot2.html"><a href="ggplot2.html#intro-to-ggplot2"><i class="fa fa-check"></i><b>15.2</b> Intro to ggplot2</a><ul>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#what-is-the-grammar-of-graphics"><i class="fa fa-check"></i>What is the grammar of graphics?</a></li>
<li class="chapter" data-level="" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-versus-other-r-graphics"><i class="fa fa-check"></i>ggplot2 versus other R Graphics</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="ggplot2.html"><a href="ggplot2.html#getting-started-kep-components"><i class="fa fa-check"></i><b>15.3</b> Getting started: Kep Components</a></li>
<li class="chapter" data-level="15.4" data-path="ggplot2.html"><a href="ggplot2.html#adjust-aesthetic-attributes-by-variable"><i class="fa fa-check"></i><b>15.4</b> Adjust aesthetic attributes by variable</a></li>
<li class="chapter" data-level="15.5" data-path="ggplot2.html"><a href="ggplot2.html#adjust-aesthetic-attributes-for-the-entire-plot"><i class="fa fa-check"></i><b>15.5</b> Adjust aesthetic attributes for the entire plot</a></li>
<li class="chapter" data-level="15.6" data-path="ggplot2.html"><a href="ggplot2.html#faceting"><i class="fa fa-check"></i><b>15.6</b> Faceting</a></li>
<li class="chapter" data-level="15.7" data-path="ggplot2.html"><a href="ggplot2.html#some-example-plots"><i class="fa fa-check"></i><b>15.7</b> Some example plots</a></li>
<li class="chapter" data-level="15.8" data-path="ggplot2.html"><a href="ggplot2.html#where-can-i-learn-more"><i class="fa fa-check"></i><b>15.8</b> Where can I learn more?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 107 Outline of Class Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simulation" class="section level1">
<h1><span class="header-section-number">Chapter 13</span> Simulation</h1>
<div id="what-are-simulation-studies" class="section level2">
<h2><span class="header-section-number">13.1</span> What Are Simulation Studies</h2>
<p>Simulation studies are used in statistics to verify theoretical results, and to do “what-if” experiments. The are commonly used in a variety of applications and fields. Often times we have a particular theory or an idea about how things work. In order to verify that our theory is correct we can simulate a data set with known properties, and then check if the data set matches our theory. For example, suppose you want to calculate a 95% confidence interval for the heights of all college students. Our theory on confidence intervals says that we expect that a 95% confidence interval will capture the true mean about 95% of the time. If we simply go out and take a sample of data from “real-life” and then calculate the a confidence interval we have no idea if that confidence interval captures the truth because the true average height of all college students is unknown! It is not feasible to sample every college students, so we will never know if the true mean actually falls within our interval. Furthermore, in this example we only calculated one confidence interval. If we did know the true mean then our results would simply indicate that the confidence interval captured the mean or not, but nothing about the <em>rate</em> that confidence intervals capture the mean, which should be 95%. What we can do instead is simulate this process. We can randomly generate data that has a true mean of <span class="math inline">\(\mu\)</span> using a computer. Then we can estimate a 95% confidence interval using the appropriate methods and see if this confidence interval contains <span class="math inline">\(\mu\)</span>. We then can repeat this process as many times as we would like because we are using a computer, which makes the process much simpler. If our theory about confidence intervals is correct we would expect that 95% of our confidence intervals captured the true mean (<span class="math inline">\(\mu\)</span>), and the rest did not.</p>
<p>Simulations are very important, and can range greatly in complexity. We will focus on simple techniques in this section. For a more complete discussion on simulation studies in statistics, and best practices see <span class="citation">Morris, White, and Crowther (<a href="#ref-morris2019using" role="doc-biblioref">2019</a>)</span>. This article is freely avaliable online at <a href="https://onlinelibrary.wiley.com/doi/10.1002/sim.8086">https://onlinelibrary.wiley.com/doi/10.1002/sim.8086</a>.</p>
</div>
<div id="review-random-variables" class="section level2">
<h2><span class="header-section-number">13.2</span> Review Random Variables</h2>
<p>Before discussing how to simulate data with specific properties we review the concept of a random variable. This discussion is adapted primarily from Chapter 3 and 4 of <span class="citation">Diez, Cetinkaya-Rundel, and Barr (<a href="#ref-OpenIntro" role="doc-biblioref">2020</a>)</span>. A <strong>random variable</strong> is a random process or variable with a numeric outcome. Random variables in general have a typical value which is called the <strong>expected value</strong>. However, in practice random variables also have variability, that is we do not expect to obtain the expected value for every random variable. Instead we expect to observe a range of values according to some sort of pattern, which is usually centered around the expected value.</p>
<p>For example, in Yellowstone National Park, Wyoming there is a famous geyser called Old Faithful. A geyser is a natural hot spring that periodically erupts water. The amount of time (in minutes) the eruption lasts varies each time, but not by a dramatic amount. The eruption time in minutes is the random variable, and the expected value is the average eruption length, and we can measure the variability using a measure of dispersion, like the variance. Below is a histogram of a random sample of eruptions times of 272 different eruptions.</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="simulation.html#cb706-1"></a><span class="kw">hist</span>(faithful<span class="op">$</span>eruptions, </span>
<span id="cb706-2"><a href="simulation.html#cb706-2"></a>     <span class="dt">main =</span> <span class="st">&quot;Eruption Times of Old Faithful&quot;</span>, </span>
<span id="cb706-3"><a href="simulation.html#cb706-3"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Time (in minutes)&quot;</span>, </span>
<span id="cb706-4"><a href="simulation.html#cb706-4"></a>     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dt">by =</span> <span class="fl">.5</span>))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-243-1.png" width="672" /></p>
<p>As mentioned previously, random variables generate observations according to some sort of pattern. These patterns are referred to as <strong>densities</strong>, and can be analyzed visually, and analytically (i.e. through formulas). One of the most common ways to look at how often we would expect certain values for data that we find from the “real-world” is to use a histogram. Histogram order observations into mutually exclusive bins, where the height of each bin indicates how common a particular range of values is. For example, in the histogram above each bin is a 30 second (0.5 minute) range, and we can see the frequency of observations within the data set that are in this range on the y-axis. When thinking about random variables though, it is often more helpful to look at the proportion of observed values within a bin, instead of the frequency. We can modify our histogram to accomplish this.</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="simulation.html#cb707-1"></a><span class="kw">hist</span>(faithful<span class="op">$</span>eruptions, </span>
<span id="cb707-2"><a href="simulation.html#cb707-2"></a>     <span class="dt">main =</span> <span class="st">&quot;Eruption Times of Old Faithful&quot;</span>, </span>
<span id="cb707-3"><a href="simulation.html#cb707-3"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Time (in minutes)&quot;</span>, </span>
<span id="cb707-4"><a href="simulation.html#cb707-4"></a>     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dt">by =</span> <span class="fl">.5</span>), </span>
<span id="cb707-5"><a href="simulation.html#cb707-5"></a>     <span class="dt">freq =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-244-1.png" width="672" /></p>
<p>Notice that the y-axis now says “Density”. This is the relative probability that an observed data point will be a particular value. In “real-world” data, we can only estimate the density. We will never know the truth. Hence, we will never know the true expected value, or the true variance. This is why we have statistics!! We have statistics in order to make educated guesses about these values and properties from which the data arises from.</p>
<p>Analyzing the density or pattern of a random variable visually with histograms is intuitive, but limiting. Using a formula as a representation for a density is much more versatile and useful. For these functions we have <strong>parameters</strong> which are values that let us further customize the function representation of a density to the specific random variable that we have. Let <span class="math inline">\(X\)</span> be a random variable, and <span class="math inline">\(x\)</span> be some observed value. In practice, if <span class="math inline">\(X\)</span> is a random variable that can only take on values that are discrete (usually integers) then we say the probability of observing some a particular value, say <span class="math inline">\(x\)</span>, is denoted <span class="math inline">\(p(x)\)</span>. There are extremely well known discrete densities that random variables tend to follow and that are available in R. A few of them are listed below.</p>
<ul>
<li><strong>Binomial</strong>:</li>
</ul>
<p><span class="math display">\[p(x) = \binom{n}{x} p^x (1-p)^{n-x} \hspace{1cm} x = 0, ..., n\]</span></p>
<ul>
<li><p><strong>Poison</strong>:
<span class="math display">\[p(x) = λ^x exp(-λ)/x! \hspace{1cm} x = 0, ..., n\]</span></p></li>
<li><p><strong>Negative Binomial:</strong></p></li>
</ul>
<p><span class="math display">\[Γ(x+n)/(Γ(n) x!) p^n (1-p)^x   \hspace{1cm} x = 0, ..., \]</span></p>
<p>If <span class="math inline">\(X\)</span> is a random variable that can be any value within a range of numbers then we denote the density function of this random variable by <span class="math inline">\(f(x)\)</span>. As with discrete random variables, there are extremely well known continuous densities that random variables tend to follow and that are available in R. A few of them are listed below.</p>
<ul>
<li><strong>Uniform:</strong></li>
</ul>
<p><span class="math display">\[f(x) = 1/(max-min)\]</span></p>
<ul>
<li><strong>Log-Normal:</strong></li>
</ul>
<p><span class="math display">\[f(x) = 1/(√(2 π) σ x) e^{-((log{(x)} - μ)^2 / (2 σ^2))} \hspace{1cm} 0 &lt;x &lt; \infty\]</span></p>
<ul>
<li><strong>Exponential:</strong></li>
</ul>
<p><span class="math display">\[f(x) = λ {e}^{- λ x} \hspace{1cm} 0 &lt;x &lt; \infty\]</span></p>
<ul>
<li><p><strong>Normal</strong>:
<span class="math display">\[f(x) = 1/(√(2 π) σ) e^{-((x - μ)^2/(2 σ^2))} \hspace{1cm} -\infty &lt;x &lt; \infty\]</span></p></li>
<li><p><strong>t-Distribution</strong></p></li>
</ul>
<p><span class="math display">\[f(x) = Γ((n+1)/2) / (√(n π) Γ(n/2)) (1 + x^2/n)^-((n+1)/2)\hspace{1cm} -\infty &lt;x &lt; \infty\]</span></p>
<p>To see a complete list of well known distribution functions (or densities) that R already has see the help file <code>?Distributions</code>.</p>
</div>
<div id="generating-random-variables" class="section level2">
<h2><span class="header-section-number">13.3</span> Generating Random Variables</h2>
<p>Each distribution available in base R is listed in <code>?Distributions</code>. Each of the distributions has a link to their corresponding help file which lists four main functions: <code>dxxx()</code>, <code>pxxx()</code>, <code>qxxx()</code> and <code>rxxx()</code>. These are the density function, cumulative distribution function, quantile function, and a random number generator for the particular random variable of interest. The letters <code>xxx</code> are replaced by an code for the particular random variable. The density function (<code>dxxx()</code>) generates the relative probability of observing a particular value. The cumulative distribution function (<code>pxxx()</code>) generates the probability of observing a particular value, and anything smaller than this value. The quantile function (<code>qxxx()</code>) generates what value corresponds to a given percentile. Lastly, the random number generator (<code>rxxx()</code>) will generate a random variable according to the given distribuiton/density. We will focus only on <code>dxxx()</code> and <code>rxxx()</code>.</p>
<p>For example, go to <code>?Distributions</code> and click on <code>dnorm</code> which corresponds to the normal distribution (in the bottom third of the list). Here you will see the functions <code>dnorm()</code>, <code>pnorm()</code>, <code>qnorm()</code>, and <code>rnorm()</code>. To generate a normal random variable with mean 0 and standard deviation 1 we can use the following command.</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="simulation.html#cb708-1"></a><span class="co"># Generate a single normal random variable with mean 0 and standard deviation 1</span></span>
<span id="cb708-2"><a href="simulation.html#cb708-2"></a><span class="kw">rnorm</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] -0.1049144</code></pre>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="simulation.html#cb710-1"></a><span class="co"># Generate 20 normal random variables with mean 0 and standard deviation 1</span></span>
<span id="cb710-2"><a href="simulation.html#cb710-2"></a><span class="kw">rnorm</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1] -1.392449727  1.018245804  0.826401081  1.289595050 -0.643231482
##  [6] -0.001173311 -1.948468606  0.680949495  0.274233523 -1.905682922
## [11] -1.207395634  0.379645715 -0.832700980 -1.480467865  1.045205002
## [16]  1.203374466  1.143497941 -0.798450844  0.713542224  0.014509402</code></pre>
<p>However, as we saw in the previous section, these common distribution functions have parameters which let us further customize the behavior of the random variable. We can change the parameters of any of the distributions in R using the function arguments.</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="simulation.html#cb712-1"></a><span class="co"># Normal random variable with mean 10, and standard deviation 0.5 </span></span>
<span id="cb712-2"><a href="simulation.html#cb712-2"></a><span class="kw">rnorm</span>(<span class="dv">1</span>, <span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 10.53266</code></pre>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="simulation.html#cb714-1"></a><span class="co"># Normal random variable with mean 10, and standard deviation 0.5 </span></span>
<span id="cb714-2"><a href="simulation.html#cb714-2"></a><span class="kw">rnorm</span>(<span class="dv">20</span>, <span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>##  [1]  9.918810  9.633491 10.141749  9.903283 10.774333 10.138772  9.615449
##  [8] 10.785818 10.650341 10.024944  9.791361 10.094124 10.505912 10.409901
## [15] 10.263248  9.263302  9.656979  9.812624 10.574604 10.154701</code></pre>
<p>To find the relative probability of observing a particular value for a normal distribution we use <code>dnorm()</code>.</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="simulation.html#cb716-1"></a><span class="co"># Relative probability of observing the value 0.25</span></span>
<span id="cb716-2"><a href="simulation.html#cb716-2"></a><span class="co"># for a normal random variable with mean 0 and standard devation 1</span></span>
<span id="cb716-3"><a href="simulation.html#cb716-3"></a><span class="kw">dnorm</span>(<span class="fl">0.25</span>)</span></code></pre></div>
<pre><code>## [1] 0.3866681</code></pre>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="simulation.html#cb718-1"></a><span class="co"># Relative probability of observing the value 0.25, -0.5, 2</span></span>
<span id="cb718-2"><a href="simulation.html#cb718-2"></a><span class="co"># for a normal random variable with mean 0 and standard devation 1</span></span>
<span id="cb718-3"><a href="simulation.html#cb718-3"></a><span class="kw">dnorm</span>(<span class="kw">c</span>(<span class="fl">0.25</span>, <span class="fl">-0.5</span>, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 0.38666812 0.35206533 0.05399097</code></pre>
</div>
<div id="setting-a-seed" class="section level2">
<h2><span class="header-section-number">13.4</span> Setting a Seed</h2>
<p>Often times when running a simulation we will want to use the same numbers over and over again. The function <code>rxxx()</code> generates values randomly though, which means each time we call this function we will get new and different values. In order to make sure our values are consistent each time we run R, or across computers we can set the seed. The seed determines the way the computer generates our random numbers. Normally the seed is random, so each time <code>rxxx()</code> is called we get a new random sequence. Using the <code>set.seed()</code> function will make sure that the sequence stays the same each time we run <code>rxxx()</code>.</p>
<p>See the example below were generate a sequence of 10 uniform random variables that are between -5 and 5. If you copy this code directly into your computer you will get the same sequence. However, if you do not set the seed you will get a different sequence.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="simulation.html#cb720-1"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb720-2"><a href="simulation.html#cb720-2"></a><span class="kw">runif</span>(<span class="dv">10</span>, <span class="dt">min =</span> <span class="dv">-5</span>, <span class="dt">max =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##  [1] -2.3449134 -1.2787610  0.7285336  4.0820779 -2.9831807  3.9838968
##  [7]  4.4467527  1.6079779  1.2911404 -4.3821373</code></pre>
</div>
<div id="sample" class="section level2">
<h2><span class="header-section-number">13.5</span> sample()</h2>
<p>The <code>sample()</code> function is a powerful tool that can let you create your own unique random sequence. You can sample values with replacement, or without replacement. You can also assign certain probabilities to certain events. This is a particularly helpful function for rearranging rows, and for generating a sequence of categorical variables. For example, we can simulate a coin flip.</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="simulation.html#cb722-1"></a><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Heads&quot;</span>, <span class="st">&quot;Tails&quot;</span>), <span class="dt">size=</span><span class="dv">1</span> , <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Tails&quot;</code></pre>
<p>Below is the code for simulating 10 coin flips.</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="simulation.html#cb724-1"></a><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Heads&quot;</span>, <span class="st">&quot;Tails&quot;</span>), <span class="dt">size=</span><span class="dv">10</span> , <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Tails&quot; &quot;Heads&quot; &quot;Tails&quot; &quot;Heads&quot; &quot;Tails&quot; &quot;Heads&quot; &quot;Heads&quot; &quot;Tails&quot; &quot;Heads&quot;
## [10] &quot;Heads&quot;</code></pre>
</div>
<div id="replicate-1" class="section level2">
<h2><span class="header-section-number">13.6</span> replicate()</h2>
<p>The <code>replicate()</code> function repeats a function call <code>n</code> times in a very efficient way. Suppose we wish to find the probability we get exactly 3 heads if we flip a coin 10 times. We can replicate flipping a coin 10 times, and count how many of these times we see exactly 3 heads.</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="simulation.html#cb726-1"></a>coin_flip_heads3 =<span class="st"> </span><span class="cf">function</span>(){</span>
<span id="cb726-2"><a href="simulation.html#cb726-2"></a>        coin_flip =<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Heads&quot;</span>, <span class="st">&quot;Tails&quot;</span>), <span class="dt">size=</span><span class="dv">10</span> , </span>
<span id="cb726-3"><a href="simulation.html#cb726-3"></a>                           <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb726-4"><a href="simulation.html#cb726-4"></a>        num_heads =<span class="st"> </span><span class="kw">length</span>(<span class="kw">which</span>(coin_flip <span class="op">==</span><span class="st"> &quot;Heads&quot;</span>))</span>
<span id="cb726-5"><a href="simulation.html#cb726-5"></a>        </span>
<span id="cb726-6"><a href="simulation.html#cb726-6"></a>        <span class="cf">if</span>(num_heads <span class="op">==</span><span class="st"> </span><span class="dv">3</span>){</span>
<span id="cb726-7"><a href="simulation.html#cb726-7"></a>                heads3 =<span class="st"> </span><span class="ot">TRUE</span></span>
<span id="cb726-8"><a href="simulation.html#cb726-8"></a>        } <span class="cf">else</span>{</span>
<span id="cb726-9"><a href="simulation.html#cb726-9"></a>                heads3 =<span class="st"> </span><span class="ot">FALSE</span></span>
<span id="cb726-10"><a href="simulation.html#cb726-10"></a>        }</span>
<span id="cb726-11"><a href="simulation.html#cb726-11"></a>        <span class="kw">return</span>(heads3)</span>
<span id="cb726-12"><a href="simulation.html#cb726-12"></a>}</span>
<span id="cb726-13"><a href="simulation.html#cb726-13"></a></span>
<span id="cb726-14"><a href="simulation.html#cb726-14"></a></span>
<span id="cb726-15"><a href="simulation.html#cb726-15"></a></span>
<span id="cb726-16"><a href="simulation.html#cb726-16"></a><span class="co"># Generates flipping a coin 3 times</span></span>
<span id="cb726-17"><a href="simulation.html#cb726-17"></a><span class="co"># Returns TRUE if exactly 3 flips resulted in heads</span></span>
<span id="cb726-18"><a href="simulation.html#cb726-18"></a><span class="co"># Returns FALSE if otherwise </span></span>
<span id="cb726-19"><a href="simulation.html#cb726-19"></a><span class="kw">coin_flip_heads3</span>()</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="simulation.html#cb728-1"></a><span class="co"># Replicate the experiment 10,000 times</span></span>
<span id="cb728-2"><a href="simulation.html#cb728-2"></a>see_heads3 =<span class="st"> </span><span class="kw">replicate</span>(<span class="dv">10000</span>, <span class="kw">coin_flip_heads3</span>())</span>
<span id="cb728-3"><a href="simulation.html#cb728-3"></a></span>
<span id="cb728-4"><a href="simulation.html#cb728-4"></a><span class="co"># How many of these experiments results in 3 heads???</span></span>
<span id="cb728-5"><a href="simulation.html#cb728-5"></a><span class="co"># Probability of seeing exactly 3 heads is approximately 12%</span></span>
<span id="cb728-6"><a href="simulation.html#cb728-6"></a><span class="kw">table</span>(see_heads3)<span class="op">/</span><span class="dv">10000</span></span></code></pre></div>
<pre><code>## see_heads3
##  FALSE   TRUE 
## 0.8857 0.1143</code></pre>
</div>
<div id="adding-curves-to-graphs" class="section level2">
<h2><span class="header-section-number">13.7</span> Adding curves to graphs</h2>
<p>Often times when generating data or using a real-world data set we might want to see how well a well known distribution fits a particular data set. We can do so by adding the proposed density function on to a histogram which contains the data set of interest. For example, suppose we wish to see if a normal distribution with mean of 3.5 and standard deviation of 1.14 fits the old faithful data set for eruption times. We can add this density function on top and see if it approximately fits the data.</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="simulation.html#cb730-1"></a><span class="kw">hist</span>(faithful<span class="op">$</span>eruptions, </span>
<span id="cb730-2"><a href="simulation.html#cb730-2"></a>     <span class="dt">main =</span> <span class="st">&quot;Eruption Times of Old Faithful&quot;</span>, </span>
<span id="cb730-3"><a href="simulation.html#cb730-3"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Time (in minutes)&quot;</span>, </span>
<span id="cb730-4"><a href="simulation.html#cb730-4"></a>     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dt">by =</span> <span class="fl">.5</span>), </span>
<span id="cb730-5"><a href="simulation.html#cb730-5"></a>     <span class="dt">freq =</span> <span class="ot">FALSE</span>)</span>
<span id="cb730-6"><a href="simulation.html#cb730-6"></a></span>
<span id="cb730-7"><a href="simulation.html#cb730-7"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x, <span class="fl">3.5</span>, <span class="fl">1.14</span>), <span class="dt">add =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-252-1.png" width="672" /></p>
<p>Now lets generate 272 normal random variables with mean 3.5 and standard deviation of 1.14 and see how well are generated data matches the density function.</p>
<div class="sourceCode" id="cb731"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb731-1"><a href="simulation.html#cb731-1"></a>gen_data =<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">272</span>, <span class="dt">mean =</span> <span class="fl">3.5</span>, <span class="dt">sd =</span> <span class="fl">1.14</span>)</span>
<span id="cb731-2"><a href="simulation.html#cb731-2"></a></span>
<span id="cb731-3"><a href="simulation.html#cb731-3"></a><span class="kw">hist</span>(gen_data, </span>
<span id="cb731-4"><a href="simulation.html#cb731-4"></a>     <span class="dt">main =</span> <span class="st">&quot;Simulated Data&quot;</span>, </span>
<span id="cb731-5"><a href="simulation.html#cb731-5"></a>     <span class="dt">xlab =</span> <span class="st">&quot;X&quot;</span>, </span>
<span id="cb731-6"><a href="simulation.html#cb731-6"></a>     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="op">-</span><span class="fl">0.5</span>, <span class="dv">7</span>, <span class="dt">by =</span> <span class="fl">.5</span>), </span>
<span id="cb731-7"><a href="simulation.html#cb731-7"></a>     <span class="dt">freq =</span> <span class="ot">FALSE</span>)</span>
<span id="cb731-8"><a href="simulation.html#cb731-8"></a></span>
<span id="cb731-9"><a href="simulation.html#cb731-9"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x, <span class="fl">3.5</span>, <span class="fl">1.14</span>), <span class="dt">add =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-253-1.png" width="672" />
We do not see a perfect fit, but this is what happens with random samples. The fit for the simulated data is what we expect approximately if we had a sample with this distribution. It should be approximately the same as the curve, which we see for the simulated data. Our old faithful data is significantly less fitted the simulated data. Thus it appears that the old faithful eruption times is probably not normally distributed with mean 3.5 and standard deviation 1.14. How similar is “similar enough” is not a hard and fast rule, and it is ultimately up to the researcher. The simulated data set gives us a general idea of what is “similar enough”.</p>
<p>Note that the <code>curve()</code> function does not need to be added to graph but can stand alone.</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="simulation.html#cb732-1"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x, <span class="fl">3.5</span>, <span class="fl">1.14</span>), <span class="dv">0</span>, <span class="dv">7</span>, <span class="dt">add =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-254-1.png" width="672" /></p>
<p>In addition, we can make our own functions to plot using <code>curve()</code>.</p>
<div class="sourceCode" id="cb733"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb733-1"><a href="simulation.html#cb733-1"></a>my_fun =<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb733-2"><a href="simulation.html#cb733-2"></a>        y =<span class="st"> </span>x<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>x <span class="op">-</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb733-3"><a href="simulation.html#cb733-3"></a>        <span class="kw">return</span>(y)</span>
<span id="cb733-4"><a href="simulation.html#cb733-4"></a>}</span>
<span id="cb733-5"><a href="simulation.html#cb733-5"></a></span>
<span id="cb733-6"><a href="simulation.html#cb733-6"></a><span class="kw">curve</span>(<span class="kw">my_fun</span>(x), <span class="dv">-10</span>, <span class="dv">10</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-255-1.png" width="672" /></p>
</div>
<div id="example-central-limit-theorem-clt" class="section level2">
<h2><span class="header-section-number">13.8</span> Example: Central Limit Theorem (CLT)</h2>
<div id="recall-clt" class="section level3">
<h3><span class="header-section-number">13.8.1</span> Recall CLT</h3>
<p>Let <span class="math inline">\(X_1, ..., X_n\)</span> be independent and identically distributed random variables with mean and variance, <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma^2\)</span>. If the sample size is sufficiently large (<span class="math inline">\(n \geq 30\)</span>), the sample mean <span class="math inline">\(\bar{x}\)</span> will tend to follow a normal distribution with mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\frac{\sigma}{\sqrt{n}}\)</span>.</p>
<p>In other words, for any set of data <span class="math inline">\(X_1, ..., X_n\)</span> that is independent and comes from the same distribution, and that distribution has a finite mean and variance, <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma^2\)</span>. Then</p>
<p><span class="math display">\[\bar{x} \sim N \left ( \mu, \frac{\sigma}{\sqrt{n}} \right ) \]</span></p>
<p>The distribution above is a <em>sampling distribution</em>. It is the distribution of a <em>sample mean</em>. That is, if we take <span class="math inline">\(k\)</span> samples, and for each sample we calculated the mean, the central limit theorem tells us about the distribution of these means (<span class="math inline">\(\bar{x}_1, \dots, \bar{x}_k\)</span>).</p>
</div>
<div id="assumption-violations-of-clt" class="section level3">
<h3><span class="header-section-number">13.8.2</span> Assumption Violations of CLT</h3>
<p>The central limit theorem has a few key assumptions. Some of these assumptions are fairly easy to meet, and others are more susceptible to being violated. For example, typically it is reasonable to assume that mean and variance are finite. Other assumptions are easier to violate, and the consequences of violating these assumptions vary greatly. Sometimes we may have data that comes from a mix of multiple distributions, violating the assumption that data is identically distributed. Another assumption violation could be independence. For example, in time series data we typically observe a random variable over a sequence of time and measure it repeatedly. This would violate the independence assumption because earlier observations are typically related to future observations. Another assumption that is often violated is the minimum sample size. The central limit theorem says we need at least 30 observations, or else we should use the t-distribution instead. Historically this is usually not a very big problem. The requirement that our sample size is at least 30 is a “rule of thumb” and not based on rigorous statistical theory.</p>
</div>
<div id="the-data" class="section level3">
<h3><span class="header-section-number">13.8.3</span> The Data</h3>
<p>We will see how well the CLT theorem applies to a data set that has a uniform distribution. That is, say we have a sample of 50 observations which we believe are all uniformly distributed between -5 and 5. We want to determine if the mean of a sample of this type would be normally distributed according to the CLT. To do so, we simulate a sample of this type 10,000 times and assess if it matches the CLT results.</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="simulation.html#cb734-1"></a><span class="co"># Simulate a sample of 50 observations that are uniformly distributed </span></span>
<span id="cb734-2"><a href="simulation.html#cb734-2"></a>gen_unif_mean =<span class="st"> </span><span class="cf">function</span>(the_min, the_max){</span>
<span id="cb734-3"><a href="simulation.html#cb734-3"></a>        gen_data =<span class="st"> </span><span class="kw">runif</span>(<span class="dv">50</span>, the_min, the_max)</span>
<span id="cb734-4"><a href="simulation.html#cb734-4"></a>        the_mean =<span class="st"> </span><span class="kw">mean</span>(gen_data)</span>
<span id="cb734-5"><a href="simulation.html#cb734-5"></a>        <span class="kw">return</span>(the_mean)</span>
<span id="cb734-6"><a href="simulation.html#cb734-6"></a>}</span>
<span id="cb734-7"><a href="simulation.html#cb734-7"></a></span>
<span id="cb734-8"><a href="simulation.html#cb734-8"></a><span class="co"># Simulate 10000 samples, each of size 50, where the minumum value is -5</span></span>
<span id="cb734-9"><a href="simulation.html#cb734-9"></a><span class="co"># And the maximum value is 5</span></span>
<span id="cb734-10"><a href="simulation.html#cb734-10"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb734-11"><a href="simulation.html#cb734-11"></a>sim_means =<span class="st"> </span><span class="kw">replicate</span>(<span class="dv">10000</span>, <span class="kw">gen_unif_mean</span>(<span class="dt">the_min =</span> <span class="dv">-5</span>, <span class="dt">the_max=</span><span class="dv">5</span>))</span>
<span id="cb734-12"><a href="simulation.html#cb734-12"></a></span>
<span id="cb734-13"><a href="simulation.html#cb734-13"></a></span>
<span id="cb734-14"><a href="simulation.html#cb734-14"></a><span class="co"># histogram of results</span></span>
<span id="cb734-15"><a href="simulation.html#cb734-15"></a><span class="kw">hist</span>(sim_means, <span class="dt">freq =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-256-1.png" width="672" /></p>
<p>To add a curve to the graph we need to know the mean and the standard deviation of the data we generated. For a uniform distribution with a minimum of -5 and a maximum of 5, the mean is 0 and the standard deviation is <span class="math inline">\(10/\sqrt{12} \approx 2.89\)</span>. Thus according to CLT, we expect our histogram above to correspond to a normal density with mean 0 and standard deviation <span class="math inline">\(2.89/\sqrt{50} \approx 0.41\)</span>.</p>
<div class="sourceCode" id="cb735"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb735-1"><a href="simulation.html#cb735-1"></a><span class="co"># histogram of results</span></span>
<span id="cb735-2"><a href="simulation.html#cb735-2"></a><span class="kw">hist</span>(sim_means, <span class="dt">freq =</span> <span class="ot">FALSE</span>)</span>
<span id="cb735-3"><a href="simulation.html#cb735-3"></a></span>
<span id="cb735-4"><a href="simulation.html#cb735-4"></a><span class="co"># Add normal curve according to CLT</span></span>
<span id="cb735-5"><a href="simulation.html#cb735-5"></a><span class="kw">curve</span>(<span class="kw">dnorm</span>(x, <span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="fl">0.41</span>), <span class="dt">add =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-257-1.png" width="672" /></p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-OpenIntro">
<p>Diez, David, Mine Cetinkaya-Rundel, and Christopher D Barr. 2020. <em>OpenIntro Statistics, Fourth Edition</em>. OpenIntro. <a href="https://www.openintro.org/book/os/">https://www.openintro.org/book/os/</a>.</p>
</div>
<div id="ref-morris2019using">
<p>Morris, Tim P, Ian R White, and Michael J Crowther. 2019. “Using Simulation Studies to Evaluate Statistical Methods.” <em>Statistics in Medicine</em> 38 (11): 2074–2102.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regular-expressions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="plyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/12-simulation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
